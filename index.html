<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IVECO CAPITAL Deal Book</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body { background-color: #f8fafc; }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // --- COMPONENTI ICONE (Per evitare dipendenze esterne complesse) ---
        const IconTruck = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-slate-400 group-hover:text-blue-600 mb-3"><path d="M10 17h4V5H2v12h3"/><path d="M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5"/><path d="M14 17h1"/><circle cx="7.5" cy="17.5" r="2.5"/><circle cx="17.5" cy="17.5" r="2.5"/></svg>
        );
        const IconBriefcase = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-slate-400 group-hover:text-blue-600 mb-3"><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>
        );
        const IconCalc = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-slate-600"><rect width="16" height="20" x="4" y="2" rx="2"/><line x1="8" x2="16" y1="6" y2="6"/><line x1="16" x2="16" y1="14" y2="18"/><path d="M16 10h.01"/><path d="M12 10h.01"/><path d="M8 10h.01"/><path d="M12 14h.01"/><path d="M8 14h.01"/><path d="M12 18h.01"/><path d="M8 18h.01"/></svg>
        );
        const IconRefresh = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-slate-600"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 16h5v5"/></svg>
        );
        const IconLeaf = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-green-600"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"/><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/></svg>
        );
        const IconCheck = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-green-600"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/></svg>
        );
        const IconArrow = () => (
             <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-slate-300 group-hover:text-blue-500"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
        );

        // --- APP LOGIC ---
        const DealBookApp = () => {
            const [step, setStep] = React.useState(1);
            const [selections, setSelections] = React.useState({ persona: '', goal: '' });

            const getRecommendation = () => {
                if (selections.goal === 'green') return {
                title: "GATE (Green & Advanced Transport Ecosystem)",
                desc: "The pay-per-use solution dedicated to the electric transition. Complete Truck-as-a-Service.",
                features: ["Pay-per-use model", "Ecosystem Services Included", "Zero Residual Risk"]
                };
                if (selections.goal === 'usage') return {
                title: "Operating Lease & Full Service",
                desc: "Maximum flexibility. Pay for usage without burdening the balance sheet. Ideal for certain TCO.",
                features: ["All-inclusive Fee", "Maintenance Included", "No Resale Risk"]
                };
                return {
                title: "Instalment Sale / Financial Lease",
                desc: "The classic path to ownership. Build equity in your IVECO vehicle.",
                features: ["Final Ownership", "Fiscal Depreciation", "Flexible Plans"]
                };
            };

            const reset = () => {
                setStep(1);
                setSelections({ persona: '', goal: '' });
            };

            return (
                <div className="min-h-screen p-6 flex flex-col items-center justify-center font-sans">
                
                {/* Header */}
                <header className="w-full max-w-2xl mb-8 text-center">
                    <h1 className="text-3xl font-bold text-blue-900 mb-2 tracking-tight">IVECO CAPITAL</h1>
                    <p className="text-lg text-blue-600 font-medium">Empowering Mobility with Financial Confidence</p>
                    <div className="h-1 w-20 bg-blue-500 mx-auto mt-4 rounded-full"></div>
                </header>

                {/* Main Card */}
                <div className="w-full max-w-2xl bg-white shadow-2xl rounded-2xl overflow-hidden border border-slate-200">
                    
                    {/* Progress Bar */}
                    <div className="bg-slate-100 h-2 w-full">
                    <div 
                        className="h-full bg-blue-600 transition-all duration-500 ease-out"
                        style={{ width: `${(step / 3) * 100}%` }}
                    ></div>
                    </div>

                    <div className="p-8">
                    
                    {/* STEP 1 */}
                    {step === 1 && (
                        <div className="fade-in">
                        <h2 className="text-2xl font-bold mb-6 flex items-center gap-2 text-slate-800">
                            <span className="bg-blue-100 text-blue-800 text-sm py-1 px-3 rounded-full">Step 1</span>
                            Who are you?
                        </h2>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <button 
                            onClick={() => { setSelections({...selections, persona: 'owner'}); setStep(2); }}
                            className="p-6 border-2 border-slate-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all text-left group"
                            >
                            <IconTruck />
                            <h3 className="font-bold text-lg text-slate-800">Driver / Owner-Operator</h3>
                            <p className="text-slate-500 text-sm mt-1">Single vehicle or micro-fleet owner focused on reliability.</p>
                            </button>

                            <button 
                            onClick={() => { setSelections({...selections, persona: 'fleet'}); setStep(2); }}
                            className="p-6 border-2 border-slate-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all text-left group"
                            >
                            <IconBriefcase />
                            <h3 className="font-bold text-lg text-slate-800">Fleet Manager / SME</h3>
                            <p className="text-slate-500 text-sm mt-1">Managing multiple assets, focused on TCO and efficiency.</p>
                            </button>
                        </div>
                        </div>
                    )}

                    {/* STEP 2 */}
                    {step === 2 && (
                        <div className="fade-in">
                        <h2 className="text-2xl font-bold mb-6 flex items-center gap-2 text-slate-800">
                            <span className="bg-blue-100 text-blue-800 text-sm py-1 px-3 rounded-full">Step 2</span>
                            What is your primary goal?
                        </h2>
                        <div className="space-y-3">
                            <button 
                            onClick={() => { setSelections({...selections, goal: 'ownership'}); setStep(3); }}
                            className="w-full p-4 border border-slate-200 rounded-lg hover:bg-blue-50 hover:border-blue-500 flex items-center justify-between group transition-all"
                            >
                            <div className="flex items-center gap-4">
                                <div className="bg-slate-100 p-2 rounded-full group-hover:bg-white"><IconCalc /></div>
                                <div className="text-left">
                                <div className="font-bold text-slate-800">Ownership</div>
                                <div className="text-xs text-slate-500">I want to own the truck at the end.</div>
                                </div>
                            </div>
                            <IconArrow />
                            </button>

                            <button 
                            onClick={() => { setSelections({...selections, goal: 'usage'}); setStep(3); }}
                            className="w-full p-4 border border-slate-200 rounded-lg hover:bg-blue-50 hover:border-blue-500 flex items-center justify-between group transition-all"
                            >
                            <div className="flex items-center gap-4">
                                <div className="bg-slate-100 p-2 rounded-full group-hover:bg-white"><IconRefresh /></div>
                                <div className="text-left">
                                <div className="font-bold text-slate-800">Usage Flexibility</div>
                                <div className="text-xs text-slate-500">I need flexibility and predictable costs (Truck as a Service).</div>
                                </div>
                            </div>
                            <IconArrow />
                            </button>

                            <button 
                            onClick={() => { setSelections({...selections, goal: 'green'}); setStep(3); }}
                            className="w-full p-4 border border-green-100 rounded-lg hover:bg-green-50 hover:border-green-500 flex items-center justify-between group transition-all"
                            >
                            <div className="flex items-center gap-4">
                                <div className="bg-green-100 p-2 rounded-full group-hover:bg-white"><IconLeaf /></div>
                                <div className="text-left">
                                <div className="font-bold text-slate-800">Green Transition</div>
                                <div className="text-xs text-slate-500">eMobility and Pay-per-Use solutions.</div>
                                </div>
                            </div>
                            <IconArrow />
                            </button>
                        </div>
                        <button onClick={() => setStep(1)} className="mt-6 text-slate-400 hover:text-slate-600 text-sm underline">Back to start</button>
                        </div>
                    )}

                    {/* STEP 3 */}
                    {step === 3 && (
                        <div className="fade-in text-center">
                        <div className="w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6">
                            <IconCheck />
                        </div>
                        <h2 className="text-sm font-bold text-slate-400 uppercase tracking-wide mb-2">Recommended Solution</h2>
                        <h3 className="text-3xl font-bold text-blue-900 mb-4">{getRecommendation().title}</h3>
                        <p className="text-slate-600 mb-8 max-w-md mx-auto">{getRecommendation().desc}</p>
                        
                        <div className="bg-slate-50 rounded-xl p-6 text-left mb-8">
                            <h4 className="font-bold text-slate-800 mb-3 text-sm uppercase">Key Benefits:</h4>
                            <ul className="space-y-2">
                            {getRecommendation().features.map((feat, i) => (
                                <li key={i} className="flex items-center gap-2 text-slate-700">
                                <div className="w-1.5 h-1.5 bg-blue-500 rounded-full"></div>
                                {feat}
                                </li>
                            ))}
                            </ul>
                        </div>

                        <div className="flex flex-col gap-3">
                            <button className="w-full py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200">
                            Request Quote
                            </button>
                            <button onClick={reset} className="text-slate-500 hover:text-blue-600 text-sm py-2">
                            Start Over
                            </button>
                        </div>
                        </div>
                    )}

                    </div>
                </div>
                
                <p className="mt-8 text-slate-400 text-xs">IVECO CAPITAL - Internal Strategic Prototype v1.1</p>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<DealBookApp />);
    </script>
</body>
</html>
